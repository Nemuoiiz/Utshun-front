import{p as z,v as U,s as x,c as d,a7 as ae,w as N,o as le,b as oe,g as F,q as se,u as q,y as X,t as w,A as M,L as a,M as E,F as W,d as G,j as J,m as K,a8 as ne,a9 as re,aa as ue,ab as ie,ac as de,ad as ce,B as Z,D as Q,E as ee,ae as ve,J as te,af as fe,ag as ge,ah as me,ai as he,aj as I,h as be,i as ye,k as Se,ak as Ve,a as ke,G as Ce,K as Be,a1 as _e,a2 as xe,al as Pe,S as P,am as Te,a4 as Ie,U as y,a3 as o,X as A,an as _,a5 as S,ao as Y,P as R,ap as we,Y as T,_ as Le,a6 as C,aq as Ae,Z as He,ar as Ne,as as Re}from"./index-BWKVsAFn.js";import{V as $,m as pe}from"./VToolbar-DMNH_S_b.js";import{u as Ee}from"./ssrBoot-Bomd025e.js";import{V as j,a as ze,b as Ue}from"./VRow-BTEv-rkC.js";import{V as Fe}from"./VMenu-CUf6TlXP.js";import{V as Me,a as p}from"./VList-C-yYcCCP.js";import{V as De}from"./VMain-Cnu91Nkb.js";import"./VDivider-DhAaCkaI.js";const Oe=z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ye(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:h}=n;let g=0,v=0;const l=U(null),c=x(0),r=x(0),t=x(0),V=x(!1),s=x(!1),f=d(()=>Number(e.scrollThreshold)),k=d(()=>ae((f.value-c.value)/f.value||0)),m=()=>{const i=l.value;if(!i||h&&!h.value)return;g=c.value,c.value="window"in i?i.pageYOffset:i.scrollTop;const b=i instanceof Window?document.documentElement.scrollHeight:i.scrollHeight;if(v!==b){v=b;return}s.value=c.value<g,t.value=Math.abs(c.value-f.value)};return N(s,()=>{r.value=r.value||c.value}),N(V,()=>{r.value=0}),le(()=>{N(()=>e.scrollTarget,i=>{var B;const b=i?document.querySelector(i):window;b&&b!==l.value&&((B=l.value)==null||B.removeEventListener("scroll",m),l.value=b,l.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),oe(()=>{var i;(i=l.value)==null||i.removeEventListener("scroll",m)}),h&&N(h,m,{immediate:!0}),{scrollThreshold:f,currentScroll:c,currentThreshold:t,isScrollActive:V,scrollRatio:k,isScrollingUp:s,savedScroll:r}}const $e=z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...pe(),...W(),...Oe(),height:{type:[Number,String],default:64}},"VAppBar"),je=F()({name:"VAppBar",props:$e(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:h}=n;const g=U(),v=se(e,"modelValue"),l=d(()=>{var L;const u=new Set(((L=e.scrollBehavior)==null?void 0:L.split(" "))??[]);return{hide:u.has("hide"),fullyHide:u.has("fully-hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),c=d(()=>{const u=l.value;return u.hide||u.fullyHide||u.inverted||u.collapse||u.elevate||u.fadeImage||!v.value}),{currentScroll:r,scrollThreshold:t,isScrollingUp:V,scrollRatio:s}=Ye(e,{canScroll:c}),f=d(()=>l.value.hide||l.value.fullyHide),k=d(()=>e.collapse||l.value.collapse&&(l.value.inverted?s.value>0:s.value===0)),m=d(()=>e.flat||l.value.fullyHide&&!v.value||l.value.elevate&&(l.value.inverted?r.value>0:r.value===0)),i=d(()=>l.value.fadeImage?l.value.inverted?1-s.value:s.value:void 0),b=d(()=>{var D,O;if(l.value.hide&&l.value.inverted)return 0;const u=((D=g.value)==null?void 0:D.contentHeight)??0,L=((O=g.value)==null?void 0:O.extensionHeight)??0;return f.value?r.value<t.value||l.value.fullyHide?u+L:u:u+L});q(d(()=>!!e.scrollBehavior),()=>{G(()=>{f.value?l.value.inverted?v.value=r.value>t.value:v.value=V.value||r.value<t.value:v.value=!0})});const{ssrBootStyles:B}=Ee(),{layoutItemStyles:H}=X({id:e.name,order:d(()=>parseInt(e.order,10)),position:w(e,"location"),layoutSize:b,elementSize:x(void 0),active:v,absolute:w(e,"absolute")});return M(()=>{const u=$.filterProps(e);return a($,E({ref:g,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...H.value,"--v-toolbar-image-opacity":i.value,height:void 0,...B.value},e.style]},u,{collapse:k.value,flat:m.value}),h)}),{}}}),qe=z({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:fe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...te(),...ve({location:"top end"}),...ee(),...Q(),...Z(),...ce({transition:"scale-rotate-transition"})},"VBadge"),Xe=F()({name:"VBadge",inheritAttrs:!1,props:qe(),setup(e,n){const{backgroundColorClasses:h,backgroundColorStyles:g}=J(w(e,"color")),{roundedClasses:v}=K(e),{t:l}=ne(),{textColorClasses:c,textColorStyles:r}=re(w(e,"textColor")),{themeClasses:t}=ue(),{locationStyles:V}=ie(e,!0,s=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(s)?+(e.offsetY??0):["left","right"].includes(s)?+(e.offsetX??0):0));return M(()=>{const s=Number(e.content),f=!e.max||isNaN(s)?e.content:s<=+e.max?s:`${e.max}+`,[k,m]=de(n.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,E({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},m,{style:e.style}),{default:()=>{var i,b;return[a("div",{class:"v-badge__wrapper"},[(b=(i=n.slots).default)==null?void 0:b.call(i),a(ge,{transition:e.transition},{default:()=>{var B,H;return[me(a("span",E({class:["v-badge__badge",t.value,h.value,v.value,c.value],style:[g.value,r.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":l(e.label,s),"aria-live":"polite",role:"status"},k),[e.dot?void 0:n.slots.badge?(H=(B=n.slots).badge)==null?void 0:H.call(B):e.icon?a(I,{icon:e.icon},null):f]),[[he,e.modelValue]])]}})])]}})}),{}}}),We=z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Be(),...te(),...Ce(),...W(),...ee(),...Q({tag:"footer"}),...Z()},"VFooter"),Ge=F()({name:"VFooter",props:We(),setup(e,n){let{slots:h}=n;const g=U(),{themeClasses:v}=be(e),{backgroundColorClasses:l,backgroundColorStyles:c}=J(w(e,"color")),{borderClasses:r}=ye(e),{elevationClasses:t}=Se(e),{roundedClasses:V}=K(e),s=x(32),{resizeRef:f}=Ve(m=>{m.length&&(s.value=m[0].target.clientHeight)}),k=d(()=>e.height==="auto"?s.value:parseInt(e.height,10));return q(()=>e.app,()=>{const m=X({id:e.name,order:d(()=>parseInt(e.order,10)),position:d(()=>"bottom"),layoutSize:k,elementSize:d(()=>e.height==="auto"?void 0:k.value),active:d(()=>e.app),absolute:w(e,"absolute")});G(()=>{g.value=m.layoutItemStyles.value})}),M(()=>a(e.tag,{ref:f,class:["v-footer",v.value,l.value,r.value,t.value,V.value,e.class],style:[c.value,e.app?g.value:{height:ke(e.height)},e.style]},h)),{}}}),Je={key:0,class:"nav-divider"},Ke={__name:"default",setup(e){const n=xe(),{apiAuth:h}=Re(),g=Pe(),v=Te(),l=d(()=>[{to:"/about",text:"About"},{to:"/products",text:"Product"},{to:"/activity",text:"Activity"},{to:"/donation",text:"Donation"}]),c=async()=>{try{await h.delete("/user/logout")}catch(r){console.log(r)}n.logout(),g({text:"登出成功",snackbarProps:{color:"green"}}),v.push("/")};return(r,t)=>{const V=Ie("router-view");return y(),P(Ne,{style:{"background-color":"#eee8df","font-family":"'Croissant One', seri"}},{default:o(()=>[a(je,{elevation:"4",color:"rgba(159, 190, 155, 0.6)",class:"floating",height:"100","scroll-behavior":"elevate"},{default:o(()=>[a(j,{class:"d-flex align-center",style:{height:"100%"}},{default:o(()=>[a(_,{to:"/",active:!1,style:{"font-size":"30px","text-transform":"none"}},{default:o(()=>t[0]||(t[0]=[S("U-tshun")])),_:1}),a(Y),(y(!0),A(R,null,we(l.value,(s,f)=>(y(),A(R,{key:s.to},[a(_,{to:s.to,class:"nav-btn"},{default:o(()=>[S(Le(s.text),1)]),_:2},1032,["to"]),f<l.value.length-1?(y(),A("span",Je,"｜")):T("",!0)],64))),128)),a(Y),C(n).isLoggedIn&&C(n).isAdmin?(y(),A(R,{key:0},[a(_,{to:"/admin",icon:""},{default:o(()=>[a(I,null,{default:o(()=>t[1]||(t[1]=[S("mdi-cog")])),_:1})]),_:1}),a(_,{icon:"",onClick:c},{default:o(()=>[a(I,null,{default:o(()=>t[2]||(t[2]=[S("mdi-logout")])),_:1})]),_:1})],64)):(y(),A(R,{key:1},[a(_,{icon:""},{default:o(()=>[a(I,null,{default:o(()=>t[3]||(t[3]=[S("mdi-heart")])),_:1})]),_:1}),a(_,{to:"/cart",icon:""},{default:o(()=>[a(I,null,{default:o(()=>t[4]||(t[4]=[S("mdi-cart")])),_:1}),C(n).cart?(y(),P(Xe,{key:0,content:C(n).cart,floating:"",color:"red"},null,8,["content"])):T("",!0)]),_:1}),a(Fe,null,{activator:o(({props:s})=>[a(_,E(s,{icon:""}),{default:o(()=>[a(I,null,{default:o(()=>t[5]||(t[5]=[S("mdi-account")])),_:1})]),_:2},1040)]),default:o(()=>[a(Me,{style:{"font-size":"16px","font-family":"'Croissant One', seri"}},{default:o(()=>[C(n).isLoggedIn?T("",!0):(y(),P(p,{key:0,to:"/login"},{default:o(()=>t[6]||(t[6]=[S("Login")])),_:1})),C(n).isLoggedIn?T("",!0):(y(),P(p,{key:1,to:"/register"},{default:o(()=>t[7]||(t[7]=[S("Register")])),_:1})),C(n).isLoggedIn?(y(),P(p,{key:2,to:"/orders"},{default:o(()=>t[8]||(t[8]=[S("User orders")])),_:1})):T("",!0),C(n).isLoggedIn?(y(),P(p,{key:3,onClick:c},{default:o(()=>t[9]||(t[9]=[S("logout")])),_:1})):T("",!0)]),_:1})]),_:1})],64))]),_:1})]),_:1}),a(De,{class:Ae({"no-padding":r.$route.meta.title==="首頁"||r.$route.meta.title==="品牌故事"})},{default:o(()=>[a(V)]),_:1},8,["class"]),a(Ge,{padless:"",class:"footer",color:"rgba(159, 190, 155, 0.6)"},{default:o(()=>[a(j,null,{default:o(()=>[a(ze,{justify:"center"},{default:o(()=>[a(Ue,{class:"text-center",cols:"12"},{default:o(()=>t[10]||(t[10]=[He("span",null,"© 2025 U-tshun. All rights reserved.",-1)])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},nt=_e(Ke,[["__scopeId","data-v-aa17de29"]]);export{nt as default};
