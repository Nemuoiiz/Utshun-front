import{a4 as C,S as p,U as n,a3 as t,L as e,V as S,aJ as h,a5 as _,_ as V,aK as b,aI as k,v as i,c as y,X as x,aS as w,P as B,ap as E,M as L,as as N}from"./index-CF2ihxkl.js";import{b as v}from"./route-block-B_A1xBdJ.js";import{a as T,b as f,V as I}from"./VRow-DpUrr9kr.js";import{V as M}from"./VPagination-CjKGbXoV.js";const U={__name:"ProductCard",props:{_id:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0},image:{type:String,default:""},description:{type:String,default:""},category:{type:Object,default:()=>({main:"",sub:""})},used:{type:Boolean,default:!1},usedNote:{type:String,default:""},sell:{type:Boolean,default:!1}},setup(o){return(g,r)=>{const s=C("router-link");return n(),p(k,null,{default:t(()=>[e(S,{src:o.image,height:"200",cover:""},null,8,["src"]),e(h,null,{default:t(()=>[e(s,{to:"/product/"+o._id},{default:t(()=>[_(V(o.name),1)]),_:1},8,["to"])]),_:1}),e(b,null,{default:t(()=>[_(V(o.price),1)]),_:1})]),_:1})}}},m=8,A={__name:"products",setup(o){const{api:g}=N(),r=i(1),s=y(()=>Math.ceil(d.value.length/m)),d=i([]),c=i(""),P=y(()=>d.value.filter(a=>a.name.toLowerCase().includes(c.value.toLowerCase())).slice((r.value-1)*m,r.value*m));return(async()=>{try{const{data:a}=await g.get("/product");d.value.push(...a.result)}catch(a){console.log(a)}})(),(a,u)=>(n(),p(I,null,{default:t(()=>[e(T,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(w,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=l=>c.value=l),class:"mt-10","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),(n(!0),x(B,null,E(P.value,l=>(n(),p(f,{key:l._id,cols:"12",md:"6",lg:"3"},{default:t(()=>[e(U,L({ref_for:!0},l),null,16)]),_:2},1024))),128)),e(f,{cols:"12"},{default:t(()=>[e(M,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=l=>r.value=l),length:s.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof v=="function"&&v(A);export{A as default};
