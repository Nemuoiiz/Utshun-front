import{a1 as C,a4 as b,S as p,U as u,a3 as t,L as e,V as S,aS as x,a5 as g,_ as V,bZ as h,aR as k,v as i,c as y,X as w,aP as B,P as E,ap as L,M as N,as as T}from"./index-BhHLWAFw.js";import{b as v}from"./route-block-B_A1xBdJ.js";import{a as I,b as f,V as M}from"./VRow-DJTulxoI.js";import{V as R}from"./VPagination-BIed3lpW.js";const U={__name:"ProductCard",props:{_id:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0},image:{type:String,default:""},description:{type:String,default:""},category:{type:Object,default:()=>({main:"",sub:""})},used:{type:Boolean,default:!1},usedNote:{type:String,default:""},sell:{type:Boolean,default:!1}},setup(o){return(_,r)=>{const n=b("router-link");return u(),p(k,{style:{"border-radius":"20px"}},{default:t(()=>[e(S,{src:o.image,height:"200",cover:""},null,8,["src"]),e(x,null,{default:t(()=>[e(n,{to:"/product/"+o._id,class:"no-decoration"},{default:t(()=>[g(V(o.name),1)]),_:1},8,["to"])]),_:1}),e(h,{class:"mb-5"},{default:t(()=>[g(V(o.price),1)]),_:1})]),_:1})}}},A=C(U,[["__scopeId","data-v-2a2ea7e8"]]),m=8,F={__name:"products",setup(o){const{api:_}=T(),r=i(1),n=y(()=>Math.ceil(d.value.length/m)),d=i([]),c=i(""),P=y(()=>d.value.filter(a=>a.name.toLowerCase().includes(c.value.toLowerCase())).slice((r.value-1)*m,r.value*m));return(async()=>{try{const{data:a}=await _.get("/product");d.value.push(...a.result)}catch(a){console.log(a)}})(),(a,s)=>(u(),p(M,null,{default:t(()=>[e(I,null,{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(B,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=l=>c.value=l),class:"mt-10","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),(u(!0),w(E,null,L(P.value,l=>(u(),p(f,{key:l._id,cols:"12",md:"6",lg:"3"},{default:t(()=>[e(A,N({ref_for:!0},l),null,16)]),_:2},1024))),128)),e(f,{cols:"12"},{default:t(()=>[e(R,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l),length:n.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof v=="function"&&v(F);export{F as default};
